<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>jQuery Ajax Example</title>
    <body>
      
                        
            <div class="row">
                <div class="col-md-5">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases / Event Type </h4>
                        <div id="pi-chart" style="height: 364px"></div>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases / Date </h4>
                        <div id="line-adwords"></div>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases / WeekDay </h4>
                        <div id="radialBarBottom" style="height: 365px"></div>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases / Hours</h4>
                        <div id="hoursPlot"></div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases in Week By Event Type  </h4>
                        <div id="dayColumns"></div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="shadow mt-4">
                        <h4 class="text-center">Cases in Hours By Event Type</h4>
                        <div id="hoursColumns"></div>
                    </div>
                </div>
            </div>

    </body>
    <style>
    #chart {
        max-width: 650px;
        margin: 35px auto;
    }
    </style>
    <script>
    window.Promise ||
        document.write(
            '<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"><\/script>'
        )
    window.Promise ||
        document.write(
            '<script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20171210/classList.min.js"><\/script>'
        )
    window.Promise ||
        document.write(
            '<script src="https://cdn.jsdelivr.net/npm/findindex_polyfill_mdn"><\/script>'
        )
    </script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
    // Replace Math.random() with a pseudo-random number generator to get reproducible results in e2e tests
    // Based on https://gist.github.com/blixt/f17b47c62508be59987b
    var _seed = 42;
    Math.random = function() {
        _seed = _seed * 16807 % 2147483647;
        return (_seed - 1) / 2147483646;
    };
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
    <div id="chart"></div>
    <script>

var options = {
    series: [{
        "0": [50, 31, 30, 12, 8, 11, 8, 2, 0, 7],
        "1": [25, 14, 18, 10, 6, 10, 4, 4, 1, 3],
        "2": [19, 3, 7, 4, 6, 5, 4, 3, 1, 2],
        "3": [19, 4, 7, 6, 1, 2, 3, 0, 1, 0],
        "4": [9, 4, 2, 6, 7, 3, 0, 0, 1, 2],
        "5": [11, 6, 5, 6, 6, 1, 1, 0, 1, 0],
        "6": [21, 7, 7, 12, 14, 5, 1, 0, 0, 2],
        "7": [26, 12, 6, 8, 15, 4, 2, 1, 3, 1],
        "8": [45, 12, 15, 10, 13, 2, 3, 2, 4, 3],
        "9": [45, 23, 17, 18, 15, 6, 5, 3, 13, 3],
        "10": [56, 17, 21, 18, 14, 7, 6, 1, 16, 6],
        "11": [81, 20, 20, 26, 25, 7, 5, 5, 9, 2],
        "12": [87, 22, 24, 20, 9, 1, 8, 7, 10, 4],
        "13": [88, 29, 18, 23, 15, 5, 7, 6, 8, 3],
        "14": [64, 31, 20, 20, 13, 4, 9, 7, 7, 7],
        "15": [83, 22, 24, 16, 14, 5, 7, 6, 12, 8],
        "16": [95, 23, 30, 16, 19, 9, 9, 9, 7, 1],
        "17": [98, 19, 34, 28, 23, 13, 14, 8, 8, 4],
        "18": [88, 31, 31, 38, 22, 12, 11, 10, 5, 4],
        "19": [106, 28, 28, 37, 23, 10, 7, 8, 7, 5],
        "20": [116, 30, 52, 24, 15, 14, 14, 10, 6, 8],
        "21": [120, 58, 63, 27, 13, 23, 6, 8, 3, 8],
        "22": [116, 83, 49, 19, 28, 20, 16, 17, 5, 7],
        "23": [81, 67, 50, 11, 15, 12, 17, 13, 0, 11]
    }
    ],
    chart: {
        type: 'bar',
        height: 500,
        stacked: true,
        toolbar: {
            show: true
        },
        zoom: {
            enabled: true
        }
    },
    responsive: [{
        breakpoint: 480,
        options: {
            legend: {
                position: 'bottom',
                offsetX: -10,
                offsetY: 0
            }
        }
    }],
    plotOptions: {
        bar: {
            horizontal: false,
            borderRadius: 10
        },
    },
    xaxis: {
        // type: 'days',
        categories: ["Dispute", "Domestic Violence", "Threat In Person", "Corona", "Theft", "Unknown", "Information Against Police", "Crime On Phone Mobile Social Media Internet", "Property Disputes", "Missing"],
    },
    legend: {
        position: 'right',
        offsetY: 40
    },
    fill: {
        opacity: 1
    }
};

var dayColumns = new ApexCharts(document.querySelector("#hoursColumns"), options);
dayColumns.render();



    $.getJSON('http://127.0.0.1:8080/analysis/getDataTest/?policeStation=All&circle=All&radius=All&eventTypes=All&eventSubTypes=All&fromdatetime=2021-04-01T00%3A00&todatetime=2021-06-30T23%3A59%3A59&timeOfevent=All', function(response) {
        // lineAdwords.updateSeries([{
        //     name: 'No. of Cases',
        //     data: response['lineData']
        // }]);

        // pichart.updateSeries([{
        //     name: 'pie',
        //     data: response['piData']
        // }]);

        // dayColumns.updateSeries([{
        //     name: 'Monday',
        //     data: response['weekEventData']['Monday']
        // }]);

        
        // dayColumns.updateOptions({
        //     series: [{
        //         name: 'Monday',
        //         data: response['weekEventData']['Monday']
        //       },{
        //         name: 'Tuesday',
        //         data: response['weekEventData']['Tuesday']
        //       },{
        //         name: 'Wednesday',
        //         data: response['weekEventData']['Wednesday']
        //       },{
        //         name: 'Thursday',
        //         data: response['weekEventData']['Thursday']
        //       },{
        //         name: 'Friday',
        //         data: response['weekEventData']['Friday']
        //       },{
        //         name: 'Saturday',
        //         data: response['weekEventData']['Saturday']
        //       },{
        //         name: 'Sunday',
        //         data: response['weekEventData']['Sunday']
        //     }],
        //     xaxis: {
        //         type: 'days',
        //         categories: response['weekEventData']['index'],
        //     },
        // });

        dayColumns.updateOptions({
            series: [{
                name: '0',
                data: response['hourEvent']['0']
              },{
                name: '1',
                data: response['hourEvent']['1']
              },{
                name: '2',
                data: response['hourEvent']['2']
              },{
                name: '3',
                data: response['hourEvent']['3']
              },{
                name: '4',
                data: response['hourEvent']['4']
              },{
                name: '5',
                data: response['hourEvent']['5']
              },{
                name: '6',
                data: response['hourEvent']['6']
              },{
                name: '7',
                data: response['hourEvent']['7']
              },{
                name: '8',
                data: response['hourEvent']['8']
              },{
                name: '9',
                data: response['hourEvent']['9']
              },{
                name: '10',
                data: response['hourEvent']['10']
              },{
                name: '11',
                data: response['hourEvent']['11']
              },{
                name: '12',
                data: response['hourEvent']['12']
              },{
                name: '13',
                data: response['hourEvent']['13']
              },{
                name: '14',
                data: response['hourEvent']['14']
              },{
                name: '15',
                data: response['hourEvent']['15']
              },{
                name: '16',
                data: response['hourEvent']['16']
              },{
                name: '17',
                data: response['hourEvent']['17']
              },{
                name: '18',
                data: response['hourEvent']['18']
              },{
                name: '19',
                data: response['hourEvent']['19']
              },{
                name: '20',
                data: response['hourEvent']['20']
              },{
                name: '21',
                data: response['hourEvent']['21']
              },{
                name: '22',
                data: response['hourEvent']['22']
              },{
                name: '23',
                data: response['hourEvent']['23']
              }],
            xaxis: {
                type: 'days',
                categories: response['weekEventData']['index'],
            },
        });
    });
    </script>
</body>

</html>